<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-10 col-xl-8">

      <h2 class="mb-3 text-center">Quiz para {{nome}}</h2>

      <!-- Nome enviado escondido (sem depender de CSS) -->
      <input type="hidden" id="nomeUsuario" name="nome" value="{{nome}}">

      <!-- Progresso -->
      <div class="d-flex align-items-center gap-2 mb-3">
        <div class="progress flex-grow-1" role="progressbar" aria-label="Progresso do quiz" aria-valuemin="0" aria-valuemax="{{perguntas.length}}">
          <div id="progressBar" class="progress-bar" style="width:0%"></div>
        </div>
        <small id="progressText" class="text-muted">0/{{perguntas.length}}</small>
      </div>

      <form id="quizForm" class="needs-validation" novalidate>

        {{#each perguntas}}
          <div
            class="mb-4 pergunta card p-3 shadow-sm {{#unless @first}}d-none{{/unless}}"
            data-id="{{id}}"
            data-correta="{{correta}}"
            data-disciplina="{{disciplina}}"
          >
            <h5 class="mb-3 fw-semibold">{{increment @index}}. {{texto}}</h5>

            <div class="list-group">
              {{#each opcoes}}
                <label class="list-group-item list-group-item-action d-flex align-items-center" for="{{../id}}-{{@index}}">
                  <input
                    class="form-check-input me-3 opcao"
                    type="radio"
                    name="pergunta-{{../id}}"
                    value="{{@index}}"
                    id="{{../id}}-{{@index}}"
                    required
                  >
                  <span>{{this}}</span>
                </label>
              {{/each}}
            </div>
          </div>
        {{/each}}

        <div class="d-flex justify-content-center">
          <button type="button" id="btnFinalizar" class="btn btn-success btn-lg mt-2 d-none">
            Finalizar Quiz
          </button>
        </div>

      </form>
    </div>
  </div>
</div>

<script src="/js/quiz.js"></script>
